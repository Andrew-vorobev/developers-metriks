<ng-container *appLet="userService.projects as projects">
  <h2 class="font-semibold text-2xl mb-6 pl-10">
    Проекты пользователя:
    <ng-container *ngIf="!userService.isLoadingUserProjects">
      <span class="font-normal text-sm text-gray-600 ml-8 mr-4">
        Всего: {{ projects.length }}
      </span>
      <span class="font-normal text-sm text-gray-600">
        Показано:
        {{
          projects.length > userService.visibleProjectsCount
            ? userService.visibleProjectsCount
            : projects.length
        }}
      </span>
    </ng-container>
  </h2>
  <ul
    class="flex flex-col gap-4 mb-14"
    *ngIf="!userService.isLoadingUserProjects; else userProjectsLoading">
    <li class="flex project-item static" *ngFor="let project of projects">
      <div class="flex gap-32 pl-8">
        <div class="flex flex-col">
          <h3 class="font-semibold text-2xl mb-4">
            <a [href]="project.web_url">{{ project.name }}</a>
          </h3>
          <h4 class="font-normal text-sm text-gray-600 mb-1">
            • Создан: {{ project.created_at | date : 'mediumDate' : 'UTC+3' }}
          </h4>
          <h4 class="font-normal text-sm text-gray-600 mb-3">
            • Обновлён: {{ project.updated_at | date : 'medium' : 'UTC+3' }}
          </h4>
          <h4 class="font-normal text-sm text-gray-600">
            • {{ project.visibility === 'public' ? 'Публичный' : 'Приватный' }}
          </h4>
        </div>
        <div class="flex gap-10 items-center">
          <div class="flex flex-col items-center">
            <span class="font-semibold text-4xl mt-[-5px]">★</span>
            <span class="font-semibold text-2xl">{{ project.star_count }}</span>
          </div>
          <div class="flex flex-col items-center">
            <svg width="40" height="40" viewBox="0 0 20 25" fill="none">
              <path
                d="M7 5C7 3.89543 7.89543 3 9 3C10.1046 3 11 3.89543 11 5C11 5.74028 10.5978 6.38663 10 6.73244V14.0396H11.7915C12.8961 14.0396 13.7915 13.1441 13.7915 12.0396V10.7838C13.1823 10.4411 12.7708 9.78837 12.7708 9.03955C12.7708 7.93498 13.6662 7.03955 14.7708 7.03955C15.8753 7.03955 16.7708 7.93498 16.7708 9.03955C16.7708 9.77123 16.3778 10.4111 15.7915 10.7598V12.0396C15.7915 14.2487 14.0006 16.0396 11.7915 16.0396H10V17.2676C10.5978 17.6134 11 18.2597 11 19C11 20.1046 10.1046 21 9 21C7.89543 21 7 20.1046 7 19C7 18.2597 7.4022 17.6134 8 17.2676V6.73244C7.4022 6.38663 7 5.74028 7 5Z"
                fill="#000000" />
            </svg>
            <span class="font-semibold text-2xl mr-[-1px]">
              {{ project.forks_count }}
            </span>
          </div>
        </div>
        <div class="flex flex-col justify-center">
          <h3 class="font-medium text-xl mb-3">
            Темы:
            <span class="font-normal text-xl pl-3">
              {{ project.topics | sequence }}
            </span>
          </h3>
          <h3 class="font-medium text-xl">
            Теги:
            <span class="font-normal text-xl pl-3">
              {{ project.tag_list | sequence }}
            </span>
          </h3>
        </div>
      </div>
    </li>
  </ul>
</ng-container>

<ng-template #userProjectsLoading>
  <p class="font-medium text-lg pl-10 mb-14">Загрузка...</p>
</ng-template>
